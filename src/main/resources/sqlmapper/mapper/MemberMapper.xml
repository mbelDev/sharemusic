<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.music.sharemusic.dao.MemberDao">
  <select id="getMemberAll" resultType="MemberDto">
    SELECT * FROM MEMBER ORDER BY USERID
  </select>
  <select id="getMemberOne" parameterType="String" resultType="MemberDto">
	  SELECT * FROM MEMBER WHERE userID = #{userID}
  </select>
  <select id="checkID" parameterType="String" resultType="Integer">
    SELECT COUNT(*) FROM MEMBER WHERE USERID = #{userID}
  </select>
  <select id="login" parameterType="MemberDto" resultType="Integer">
    SELECT COUNT(*) FROM MEMBER WHERE USERID = #{userID} AND USERPW = #{userPW}
  </select>
  
  <insert id="putMember" parameterType="MemberDto">
	  INSERT INTO MEMBER VALUES(
	  								#{userID},
	  								#{userPW},
	  								#{userNM},
                    #{userIcon},
	  								#{userIconReal},
                    0, <!--  userBann  --> 
	  								SYSDATE,
                    #{userPrincipal}
	  								)
  </insert>

  <update id="updateMember" parameterType="MemberDto">
    UPDATE MEMBER SET 
    (USERPW, USERNM, USERICON, USERICONREAL) = (#{userPW},#{userNM},#{userIcon},#{userIconReal})
  </update>

  <delete id="deleteMember" parameterType="MemberDto">
    DELETE FROM MEMBER WHERE USERID = #{userID}
  </delete>
</mapper>